openapi: "3.0.0"
components:
  schemas:
    BaseOption:
      allOf:
        - type: object
          description: ...
          properties:
            id:
              type: string
              description: ...
            "@type":
              type: string
              description: discriminator field
          required:
            - id
            - "@type"
    OptionOne:
      type: object
      description: This schema does not re-declare the @type property
      allOf:
        - $ref: '#/components/schemas/BaseOption'
    OptionTwo:
      allOf:
        - $ref: '#/components/schemas/BaseOption'
        - type: object
          description: This schema re-declares the @type property
          properties:
            abc:
              type: string
              description: ...
            "@type":
              type: string
              description: discriminator field for OptionTwo
    OptionOneOrOptionTwo:
      type: object
      description: ...
      oneOf:
        - $ref: '#/components/schemas/OptionOne'
        - $ref: '#/components/schemas/OptionTwo'
      discriminator:
        propertyName: '@type'
