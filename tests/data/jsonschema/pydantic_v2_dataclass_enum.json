{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "Order",
  "type": "object",
  "definitions": {
    "Status": {
      "type": "string",
      "enum": ["pending", "processing", "shipped", "delivered"]
    },
    "Priority": {
      "type": "integer",
      "enum": [1, 2, 3]
    }
  },
  "properties": {
    "order_id": {"type": "string"},
    "status": {"$ref": "#/definitions/Status"},
    "priority": {
      "allOf": [{"$ref": "#/definitions/Priority"}],
      "default": 2
    }
  },
  "required": ["order_id", "status"]
}
